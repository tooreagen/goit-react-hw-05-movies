"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[166],{6148:function(n,e,t){var r=t(5861),u=t(7757),c=t.n(u),a=t(1243),o=function(){var n=(0,r.Z)(c().mark((function n(e,t){var r,u;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"427820c7b2f29f232bc908a76595fbeb",r="https://api.themoviedb.org/3/".concat(e,"?api_key=").concat("427820c7b2f29f232bc908a76595fbeb").concat(t||""),u=a.Z.get(r),n.next=5,u;case 5:return n.t0=n.sent.data,n.abrupt("return",{moviesObject:n.t0});case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();e.Z=o},3224:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var r,u,c,a=t(5861),o=t(9439),i=t(7757),s=t.n(i),f=t(1087),l=t(7689),p=t(6148),d=t(2791),h=t(4221),x=(t(1138),t(168)),v=t(6444),b=v.ZP.form(r||(r=(0,x.Z)(["\n  margin-top: 20px;\n  display: flex;\n  gap: 10px;\n"]))),m=v.ZP.input(u||(u=(0,x.Z)(["\n  padding: 8px;\n  border-radius: 5px;\n  border-style: none;\n"]))),g=v.ZP.button(c||(c=(0,x.Z)(["\n  padding: 8px;\n  border-radius: 5px;\n  border-style: none;\n  background-color: lightgray;\n\n  :hover,\n  :focus {\n    color: grey;\n  }\n"]))),Z=t(184),y=function(n){var e=n.handleSubmit;return(0,Z.jsxs)(b,{onSubmit:e,children:[(0,Z.jsx)(m,{type:"text",name:"query",autoFocus:!0,placeholder:"Search movie"}),(0,Z.jsx)(g,{type:"submit",children:"Search"})]})},j=t(1946),k=t(559),_=function(){var n=(0,f.lr)(),e=(0,o.Z)(n,2),t=e[0],r=e[1],u=t.get("query"),c=(0,d.useState)([]),i=(0,o.Z)(c,2),x=i[0],v=i[1],b=(0,d.useState)(null),m=(0,o.Z)(b,2),g=m[0],_=m[1],w=(0,l.TH)();(0,d.useEffect)((function(){if(""!==u&&null!==u){var n=function(){var n=(0,a.Z)(s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(null),n.next=4,(0,p.Z)("search/movie","&query=".concat(u));case 4:return n.next=6,n.sent.moviesObject.results;case 6:e=n.sent,v(e),0===e.length&&h.fn.info("Movies not found"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),_(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}();n()}}),[u]),(0,d.useEffect)((function(){console.log(g)}),[g]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(y,{handleSubmit:function(n){n.preventDefault();var e=n.currentTarget,t=e.elements.query.value;t?(r({query:t}),e.reset()):h.fn.error("Enter search text")}}),x?(0,Z.jsx)(k.O,{children:x.map((function(n){return(0,Z.jsx)(k.X,{children:(0,Z.jsx)(f.OL,{to:"".concat(n.id),state:{from:w},children:n.title})},n.id)}))}):(0,Z.jsx)(j.Z,{}),(0,Z.jsx)(h.mh,{})]})}},559:function(n,e,t){t.d(e,{O:function(){return o},X:function(){return i}});var r,u,c=t(168),a=t(6444),o=a.ZP.ul(r||(r=(0,c.Z)(["\n  margin-top: 20px;\n"]))),i=a.ZP.ul(u||(u=(0,c.Z)(["\n  :not(:first-child) {\n    margin-top: 3px;\n  }\n"])))}}]);
//# sourceMappingURL=166.5065856c.chunk.js.map